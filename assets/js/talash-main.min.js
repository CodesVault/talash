(()=>{var t={879:(t,e)=>{e.advancedOption=function(){const t=document.querySelector(".search-bar"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".search-bar__inner"),a=document.querySelector(".talash-advanced"),s=document.querySelector(".talash-overlay");e.onfocus=function(){document.activeElement===e&&o.removeAttribute("talash-tooltip"),t.classList.add("unfold"),a.classList.add("show"),s.classList.add("show")}}},132:(t,e,o)=>{const{fetchData:a}=o(317),{reset:s}=o(23),{currentState:c,setState:r}=o(435);e.getAuthors=function(){const t=document.querySelector(".author-list"),e=document.querySelector("#author-popup"),o=document.querySelector("#author-loader");t.onclick=function(){r("author"),e.classList.add("show"),o.classList.add("show"),setTimeout((function(){!function(){const t=document.querySelector("#author-popup__input"),e=document.querySelector("#postType-data"),o=document.querySelector("#cat-data"),r=document.querySelector("#author-loader"),n="&security="+talashPublicApi.nonce,u="&talash_data="+JSON.stringify({postType:e.value,catID:o.value});a("action=talash_get_authors"+n+u).then((function(e){if(e){r.classList.remove("show"),t.classList.add("show");let o="";e.forEach((t=>{o+=`<li class='author-li'>\n\t\t\t\t\t<div class='author-li__inner' data-authorID=${t.ID}>\n\t\t\t\t\t<img src="${t.avatar_url}"><div>${t.display_name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</li>`})),t.innerHTML=o,function(){const t=document.querySelector("#author-close"),e=document.querySelector("#author-popup"),o=document.querySelector("#author-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelector("#author-popup"),e=document.querySelector("#author-popup__input"),o=document.querySelectorAll(".author-li__inner"),a=document.querySelector("#author-data"),r=document.querySelector(".author-label");let n="",u="";o&&o.forEach(((l,i)=>{o[i].onclick=function(l){l.ctrlKey||l.metaKey?(c("author")>1&&s(!0,!0,!0,!1),n+=n?", "+o[i].getAttribute("data-authorID"):o[i].getAttribute("data-authorID"),a.value=n,u+=u?", "+o[i].textContent:o[i].textContent,r.textContent=u,r.setAttribute("talash-tooltip",u)):(a.value&&s(!0,!0,!0,!1),o.forEach(((t,e)=>{o[e].classList.contains("selected")&&(o[e].classList.remove("selected"),o[e].style.borderColor="transparent")})),r.textContent=o[i].childNodes[2].textContent,a.value=o[i].getAttribute("data-authorID"),r.removeAttribute("talash-tooltip"),setTimeout((function(){e.classList.remove("show"),t.classList.remove("show")}),300)),o[i].style.borderColor="#00ffad",o[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))}()}),300)}}},3:(t,e,o)=>{const{fetchData:a}=o(317),{reset:s}=o(23),{setState:c,currentState:r}=o(435);e.getCategories=function(){const t=document.querySelector(".category-list"),e=document.querySelector("#cat-popup"),o=document.querySelector("#cat-popup__input"),n=document.querySelector("#cat-loader");t.onclick=function(){c("cat"),o.classList.contains("show")&&o.classList.remove("show"),e.classList.add("show"),n.classList.add("show"),setTimeout((function(){(()=>{const t=document.querySelector("#cat-loader"),e=document.querySelector("#cat-popup__input"),o=document.querySelector("#postType-data"),c=document.querySelector("#author-data"),n="&security="+talashPublicApi.nonce,u="&talash_data="+JSON.stringify({postType:o.value,authorID:c.value});a("action=talash_get_categories"+n+u).then((function(o){if("error"!=o){t.classList.remove("show");let a="";o.forEach((t=>{a+=`<li class='cat-li'><div class='cat-li__inner' data-catID=${t.term_id}>${t.name}</div></li>`})),e.innerHTML=a,e.classList.add("show"),function(){const t=document.querySelector("#cat-close"),e=document.querySelector("#cat-popup"),o=document.querySelector("#cat-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelectorAll(".cat-li__inner"),e=document.querySelector(".cat-label"),o=document.querySelector("#cat-data"),a=document.querySelector("#cat-popup"),c=document.querySelector("#cat-popup__input");let n="",u="";t&&t.forEach(((l,i)=>{t[i].onclick=function(l){l.ctrlKey||l.metaKey?(r("cat")>1&&s(!0,!0,!1),n+=n?", "+t[i].getAttribute("data-catID"):t[i].getAttribute("data-catID"),o.value=n,u+=u?", "+t[i].textContent:t[i].textContent,e.textContent=u,e.setAttribute("talash-tooltip",u)):(o.value&&s(!0,!0,!1),t.forEach(((e,o)=>{t[o].classList.contains("selected")&&(t[o].classList.remove("selected"),t[o].style.borderColor="transparent")})),e.textContent=t[i].textContent,o.value=t[i].getAttribute("data-catID"),e.removeAttribute("talash-tooltip"),setTimeout((function(){a.classList.remove("show"),c.classList.remove("show")}),300)),t[i].style.borderColor="#00ffad",t[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))})()}),300)}}},289:(t,e)=>{e.clearInput=function(){const t=document.querySelector(".search-bar__clear-input"),e=document.querySelector(".search-bar__input");e.addEventListener("input",(function(){e.value?t.classList.add("show"):t.classList.remove("show"),t.onclick=function(){e.value="",e.focus(),t.classList.remove("show")}}))}},625:(t,e)=>{e.dateRangePicker=function(){!function(t){var e=moment().subtract(364,"days"),o=moment();function a(e,o){t(".date-range__input span").html(e.format("MMM D, YY")+" - "+o.format("MMM D, YY")),t(".dateRange").html(e.format("YYYY-MM-D")+" - "+o.format("YYYY-MM-D")),t(".dateRangeStart").val(e.format("YYYY-MM-D")+" 00:00:00"),t(".dateRangeEnd").val(o.format("YYYY-MM-D")+" 23:59:59")}t(".date-range__input").daterangepicker({startDate:e,endDate:o,ranges:{"All Time":[moment().subtract(50,"years"),moment()],Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last 1 Year":[moment().subtract(364,"days"),moment()]}},a),a(e,o)}(jQuery)}},317:(t,e)=>{e.fetchData=async function(t,e=!0){const o=await fetch(talashPublicApi.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});return e?o.json():o.text()}},723:(t,e)=>{e.keyShortCut=function(){const t=document.querySelector("#talash"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".talash-overlay");window.addEventListener("keydown",(function(a){(a.ctrlKey||a.metaKey)&&a.shiftKey&&"F"===a.key&&(e.focus(),t.scrollIntoView({behavior:"smooth"}),window.scroll(100,t.offsetTop-20)),"Escape"===a.key&&(e.blur(),o.click())}))}},175:(t,e,o)=>{const{fetchData:a}=o(317),{reset:s}=o(23),{setState:c,currentState:r}=o(435);e.getPostTypes=function(){const t=document.querySelector(".post-type-list"),e=document.querySelector("#postType-popup"),o=document.querySelector("#postType-loader");t.onclick=function(){c("postType"),e.classList.add("show"),o.classList.add("show"),setTimeout((function(){!function(){const t=document.querySelector("#cat-data"),e=document.querySelector("#author-data"),o=document.querySelector("#postType-popup__input"),c=document.querySelector("#postType-loader"),n="&security="+talashPublicApi.nonce,u="&talash_data="+JSON.stringify({catID:t.value,authorID:e.value});a("action=talash_get_post_types"+n+u).then((function(t){if("error"!==t){c.classList.remove("show");let e="";t.forEach((t=>{e+=`<li class='post-type-li'>\n\t\t\t\t\t<div class='post-type-li__inner' data-postType=${t}>${t}</div>\n\t\t\t\t\t</li>`})),o.innerHTML=e,o.classList.add("show"),function(){const t=document.querySelector("#postType-close"),e=document.querySelector("#postType-popup"),o=document.querySelector("#postType-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelector("#postType-popup"),e=document.querySelector("#postType-popup__input"),o=document.querySelectorAll(".post-type-li__inner"),a=document.querySelector(".postType-label"),c=document.querySelector("#postType-data");let n="",u="";o&&o.forEach(((l,i)=>{o[i].onclick=function(l){l.ctrlKey||l.metaKey?(r("postType")>1&&s(!0,!1),n+=n?", "+o[i].getAttribute("data-postType"):o[i].getAttribute("data-postType"),c.value=n,u+=u?", "+o[i].textContent:o[i].textContent,a.textContent=u,a.setAttribute("talash-tooltip",u)):(c.value&&s(!0,!1),o.forEach(((t,e)=>{o[e].classList.contains("selected")&&(o[e].classList.remove("selected"),o[e].style.borderColor="transparent")})),a.textContent=o[i].textContent,c.value=o[i].getAttribute("data-postType"),a.removeAttribute("talash-tooltip"),setTimeout((function(){t.classList.remove("show"),e.classList.remove("show")}),300)),o[i].style.borderColor="#00ffad",o[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))}()}),300)}}},235:(t,e)=>{e.removePopup=function(){const t=document.querySelector(".search-bar"),e=document.querySelector(".talash-result"),o=document.querySelector(".talash-advanced"),a=document.querySelector(".search-bar__inner"),s=document.querySelectorAll(".talash-inner-popup"),c=document.querySelectorAll(".talash-popup__input"),r=document.querySelector(".talash-overlay");r.addEventListener("click",(function(){r.classList.remove("show"),t.classList.remove("unfold"),o.classList.contains("show")&&o.classList.remove("show"),s.forEach((function(t,e){s[e].classList.contains("show")&&s[e].classList.remove("show")})),c.forEach((function(t,e){c[e].classList.contains("show")&&c[e].classList.remove("show")})),e.classList.contains("show")&&e.classList.remove("show"),a.setAttribute("talash-tooltip","CTRL + SHIFT + F")}))}},23:(t,e,o)=>{const{resetState:a}=o(435);e.reset=function(t=!1,e=!0,o=!0,s=!0){const c=document.querySelector(".talash-reset"),r=document.querySelector("#postType-data"),n=document.querySelector(".postType-label"),u=document.querySelector("#postType-popup__input"),l=document.querySelector("#cat-data"),i=document.querySelector(".cat-label"),d=document.querySelector("#cat-popup__input"),p=document.querySelector("#author-data"),m=document.querySelector(".author-label"),h=document.querySelector("#author-popup__input"),y=()=>{e&&(u.innerHTML="",r.value="",n.textContent=n.getAttribute("data-label")),o&&(d.innerHTML="",l.value="",i.textContent=i.getAttribute("data-label")),s&&(h.innerHTML="",p.value="",m.textContent=m.getAttribute("data-label")),a()};t?y():c.addEventListener("click",y)}},84:(t,e,o)=>{const{fetchData:a}=o(317);e.search=function(){const t=document.querySelector(".search-bar__input"),e=document.querySelector("#talash-form"),o=document.querySelector(".talash-result"),s=document.querySelector(".talash-result__inner"),c=document.querySelector(".talash-overlay"),r=document.querySelector("#search-loader");e.addEventListener("submit",(function(n){if(n.preventDefault(),t.focus(),s.classList.contains("show")&&s.classList.remove("show"),!function(){const t=document.querySelector(".search-bar__input"),e=document.querySelector("#postType-data"),o=document.querySelector("#cat-data"),a=document.querySelector("#author-data");return""!=t.value||""!=e.value||""!=o.value||""!=a.value}())return;o.classList.add("show"),c.classList.add("show"),r.classList.add("show");const u={},l=new FormData(e);for(let[t,e]of l.entries())u[t]=e;!function(t){const e=document.querySelector(".talash-search-by"),o=document.querySelector(".search-bar__input"),a=document.querySelector(".postType-label"),s=document.querySelector(".cat-label"),c=document.querySelector(".author-label");let r="";r+=o.value?o.getAttribute("data-key")+": "+o.value:"",r+=o.value&&t.postType?"; ":"",r+=t.postType?a.getAttribute("data-label")+": "+t.postType:"",r+=t.postType&&t.catID?"; ":"",r+=t.catID?s.getAttribute("data-label")+": "+s.textContent:"",r+=t.catID&&t.authorID?"; ":"",r+=t.authorID?c.getAttribute("data-label")+": "+c.textContent:"",e.setAttribute("talash-tooltip",r)}(u);const i="&security="+talashPublicApi.nonce,d="&talash_data="+JSON.stringify(u);a("action=get_search_results"+i+d,!1).then((function(t){setTimeout((function(){r.classList.remove("show"),s.classList.add("show"),s.innerHTML=t}),300)})).catch((function(t){console.log(t)})),function(){const t=document.querySelector(".talash-result-close"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".talash-result"),a=document.querySelector(".talash-result__inner"),s=document.querySelectorAll(".talash-inner-popup"),c=document.querySelectorAll(".talash-popup__input");t.addEventListener("click",(function(){s.forEach((function(t,e){s[e].classList.contains("show")&&(s[e].classList.remove("show"),c[e].classList.remove("show"))})),o.classList.remove("show"),a.classList.remove("show"),e.focus()}))}()}))}},435:(t,e)=>{class o{static state={postType:0,cat:0,author:0};static currentState(t=null){return"postType"===t?o.state.postType:"cat"===t?o.state.cat:"author"===t?o.state.author:void 0}static setState(t=null){"postType"===t?o.state.postType++:"cat"===t?o.state.cat++:"author"===t&&o.state.author++}static resetState(){o.state.postType=0,o.state.cat=0,o.state.author=0}}e.currentState=o.currentState,e.setState=o.setState,e.resetState=o.resetState}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var c=e[a]={exports:{}};return t[a](c,c.exports,o),c.exports}(()=>{const{clearInput:t}=o(289),{advancedOption:e}=o(879),{search:a}=o(84),{removePopup:s}=o(235),{getPostTypes:c}=o(175),{getCategories:r}=o(3),{dateRangePicker:n}=o(625),{getAuthors:u}=o(132),{reset:l}=o(23),{keyShortCut:i}=o(723);document.addEventListener("DOMContentLoaded",(function(){!document.querySelector("#talash")||"interactive"!==document.readyState&&"complete"!==document.readyState||(i(),t(),e(),a(),s(),c(),r(),n(),u(),l())}))})()})();